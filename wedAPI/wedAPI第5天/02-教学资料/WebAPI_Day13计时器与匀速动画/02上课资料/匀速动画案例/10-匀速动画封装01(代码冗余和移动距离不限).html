<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title>标题</title>
    <style>
        .one {
            width: 100px;
            height: 100px;
            background-color: pink;
            position: absolute;
            top: 50px;
            left: 50px;
        }
    </style>
</head>

<body>

    <input type="button" value="移动到400" id="move400" />
    <input type="button" value="移动到800" id="move800" />
    <div class="one" id="box"></div>
  
</body>

<script>

    /* 本小节封装目标
    1.解决代码冗余   -函数
    2.移动距离不限  -- 函数参数

     */

     

    var box = document.getElementById('box');

    //需求： 点击按钮移动盒子到800px
    document.getElementById('move800').onclick = function () {
        animationMove(1000);

    };

    document.getElementById('move400').onclick = function () {
        animationMove(400);
    };





    var timeID = null;
    function animationMove(target){
        //1.清除以前的定时器，以本次移动为准
        clearInterval(timeID);
        //2.开始本次移动
        timeID = setInterval(function(){
            //2.1 获取元素当前位置
            var currentLeft = box.offsetLeft;
            //2.2 开始移动
            currentLeft+=10;
            box.style.left = currentLeft + 'px';
            //2.3 边界检测：超过终点清除定时器并且元素复位
            if(currentLeft >= target){
                //(1)清除定时器
                clearInterval(timeID);
                //(2)元素复位
                box.style.left = target + 'px';
            };
        },20);
    };


    
</script>

</html>